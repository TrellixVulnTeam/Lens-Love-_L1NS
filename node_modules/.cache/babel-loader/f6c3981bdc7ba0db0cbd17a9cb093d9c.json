{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\taskEcommerce\\\\src\\\\components\\\\ProductResults\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory, useParams } from 'react-router-dom';\nimport { fetchProductsStart } from './../../redux/Products/products.actions';\nimport Product from './Product';\nimport FormSelect from './../forms/FormSelect';\nimport LoadMore from './../LoadMore';\nimport './styles.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst mapState = _ref => {\n  let {\n    productsData\n  } = _ref;\n  return {\n    products: productsData.products\n  };\n};\n\nconst ProductResults = _ref2 => {\n  _s();\n\n  let {} = _ref2;\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const {\n    fiterType\n  } = useParams();\n  const {\n    products\n  } = useSelector(mapState);\n  const {\n    data,\n    queryDoc,\n    isLastPage\n  } = products;\n  useEffect(() => {\n    dispatch(fetchProductsStart({\n      filterType\n    }));\n  }, [filterType]);\n\n  const handleFilter = e => {\n    const nextFilter = e.target.value;\n    history.push(`/search/${nextFilter}`);\n  };\n\n  if (!Array.isArray(data)) return null;\n\n  if (data.length < 1) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"products\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No search results.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this);\n  }\n\n  const configFilters = {\n    defaultValue: filterType,\n    options: [{\n      name: 'Show all',\n      value: ''\n    }, {\n      name: 'eyeglass',\n      value: 'eyeglass'\n    }, {\n      name: 'sunglass',\n      value: 'sunglass'\n    }],\n    handleChange: handleFilter\n  };\n\n  const handleLoadMore = () => {\n    dispatch(fetchProductsStart({\n      filterType,\n      startAfterDoc: queryDoc,\n      persistProducts: data\n    }));\n  };\n\n  const configLoadMore = {\n    onLoadMoreEvt: handleLoadMore\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"products\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Browse Menu\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(FormSelect, { ...configFilters\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"productResults\",\n      children: data.map((product, pos) => {\n        const {\n          productThumbnail,\n          productName,\n          productPrice\n        } = product;\n        if (!productThumbnail || !productName || typeof productPrice === 'undefined') return null;\n        const configProduct = { ...product\n        };\n        return /*#__PURE__*/_jsxDEV(Product, { ...configProduct\n        }, pos, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), !isLastPage && /*#__PURE__*/_jsxDEV(LoadMore, { ...configLoadMore\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ProductResults, \"NJuD1y1hmvilU8gjqRRlyW/gkFs=\", false, function () {\n  return [useDispatch, useHistory, useParams, useSelector];\n});\n\n_c = ProductResults;\nexport default ProductResults;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductResults\");","map":{"version":3,"sources":["C:/Users/HP/OneDrive/Desktop/taskEcommerce/src/components/ProductResults/index.js"],"names":["React","useEffect","useDispatch","useSelector","useHistory","useParams","fetchProductsStart","Product","FormSelect","LoadMore","mapState","productsData","products","ProductResults","dispatch","history","fiterType","data","queryDoc","isLastPage","filterType","handleFilter","e","nextFilter","target","value","push","Array","isArray","length","configFilters","defaultValue","options","name","handleChange","handleLoadMore","startAfterDoc","persistProducts","configLoadMore","onLoadMoreEvt","map","product","pos","productThumbnail","productName","productPrice","configProduct"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory, useParams } from 'react-router-dom';\nimport { fetchProductsStart } from './../../redux/Products/products.actions';\nimport Product from './Product';\nimport FormSelect from './../forms/FormSelect';\nimport LoadMore from './../LoadMore';\nimport './styles.scss';\n\nconst mapState = ({ productsData }) => ({\n  products: productsData.products\n});\n\nconst ProductResults = ({ }) => {\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const { fiterType } = useParams();\n  const { products } = useSelector(mapState);\n\n  const { data, queryDoc, isLastPage } = products;\n\n  useEffect(() => {\n    dispatch(\n      fetchProductsStart({ filterType })\n    )\n  }, [filterType]);\n\n  const handleFilter = (e) => {\n    const nextFilter = e.target.value;\n    history.push(`/search/${nextFilter}`);\n  };\n\n  if (!Array.isArray(data)) return null;\n  if (data.length < 1) {\n    return (\n      <div className=\"products\">\n        <p>\n          No search results.\n        </p>\n      </div>\n    );\n  }\n\n  const configFilters = {\n    defaultValue: filterType,\n    options: [{\n      name: 'Show all',\n      value: ''\n    }, {\n      name: 'eyeglass',\n      value: 'eyeglass'\n    }, {\n      name: 'sunglass',\n      value: 'sunglass'\n    }],\n    handleChange: handleFilter\n  };\n\n  const handleLoadMore = () => {\n    dispatch(\n      fetchProductsStart({\n        filterType,\n        startAfterDoc: queryDoc,\n        persistProducts: data\n      })\n    )\n  };\n\n  const configLoadMore = {\n    onLoadMoreEvt: handleLoadMore,\n  };\n\n  return (\n    <div className=\"products\">\n\n      <h1>\n        Browse Menu\n      </h1>\n\n      <FormSelect {...configFilters} />\n\n      <div className=\"productResults\">\n        {data.map((product, pos) => {\n          const { productThumbnail, productName, productPrice } = product;\n          if (!productThumbnail || !productName ||\n            typeof productPrice === 'undefined') return null;\n\n          const configProduct = {\n            ...product\n          };\n\n          return (\n            <Product key={pos} {...configProduct} />\n          );\n        })}\n      </div>\n\n      {!isLastPage && (\n        <LoadMore {...configLoadMore} />\n      )}\n\n    </div>\n  );\n};\n\nexport default ProductResults;\n"]},"metadata":{},"sourceType":"module"}